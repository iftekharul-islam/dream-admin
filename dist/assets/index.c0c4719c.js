import{a as f,j as s,r as m,bj as P,bk as N,bl as x,bm as k,bn as y,f as C,P as v,X as E,Y as g,bo as H,bp as A,bq as U}from"./index.fc0c5a58.js";import{a as p}from"./App.507f1bd6.js";import{Q as q,C as W,a as M,S}from"./CustomHeader.86a132b3.js";import{C as Y}from"./CustomSidebar.ab1435b4.js";import{h as _}from"./moment.4d75c86c.js";import{E as j}from"./edit.88322707.js";const z=()=>{const e=p(),{loading:n,sidebarOpen:r,errors:d,uploadData:a,options:t}=f(i=>i.withdrawals),h=()=>{e(x())},c=i=>{i.preventDefault(),e(k())},u=i=>{i.preventDefault(),e(y())},b=[{label:"Date",required:!0,name:"date",type:"text",placeHolder:"Date",show:!0},{label:"Amount",required:!1,name:"amount",type:"text",placeHolder:"Amount",show:!0},{label:"User",required:!0,name:"user_id",type:"select",options:t==null?void 0:t.user,isMulti:!1,isClearable:!1,placeHolder:"Select User",disabled:a==null?void 0:a.isEdit,show:!0},{label:"Status",required:!1,name:"status",type:"select",options:t==null?void 0:t.status,isMulti:!1,isClearable:!1,placeHolder:"Status",show:a==null?void 0:a.isEdit}],o=[{name:"Save",type:"button",color:"primary",className:"me-1",onClick:c,show:!(a!=null&&a.isEdit)},{name:"Update",type:"button",color:"primary",className:"me-1",onClick:u,show:a==null?void 0:a.isEdit},{name:"Cancel",type:"button",color:"danger",className:"me-1",onClick:h,show:!0}];return s(m.exports.Fragment,{children:s(Y,{open:r,toggleSidebar:h,title:a!=null&&a.isEdit?"Edit Artist":"Add new Artist",errors:d,data:a,onChange:i=>e(P(i)),onReset:()=>e(N({})),loading:n,fields:b,button:o})})},D=e=>{const n=p();return s("div",{className:"actions cursor-pointer",children:s("div",{onClick:()=>{n(x()),n(N({...e,isEdit:!0}))},children:s(j,{size:20})})})},F=[{name:"Date",minWidth:"250px",selector:e=>e.date,cell:e=>s("span",{className:"text-capitalize",children:_(e==null?void 0:e.date).format("DD-MMM-YYYY")})},{name:"Amount",minWidth:"180px",selector:e=>e==null?void 0:e.amount,cell:e=>s("span",{className:"text-capitalize",children:e==null?void 0:e.amount})},{name:"Bank",minWidth:"360px",selector:e=>e==null?void 0:e.bank,cell:e=>{var n,r,d,a;return C("span",{children:[(n=e==null?void 0:e.bank)==null?void 0:n.account_name,"-",(r=e==null?void 0:e.bank)==null?void 0:r.account_number," ",s("br",{}),(d=e==null?void 0:e.bank)==null?void 0:d.bank_name,"-",(a=e==null?void 0:e.bank)==null?void 0:a.ifsc]})}},{name:"User",minWidth:"120px",selector:e=>{var n;return(n=e==null?void 0:e.user)==null?void 0:n.name},cell:e=>{var n;return s("span",{children:(n=e==null?void 0:e.user)==null?void 0:n.name})}},{name:"Status",minWidth:"120px",selector:e=>e.current_status,cell:e=>s("span",{className:"text-capitalize",children:e.status})},{name:"Action",minWidth:"120px",selector:e=>e==null?void 0:e.id,cell:e=>D(e)}],T=()=>{var o,i;const e=p(),{data:n,total:r,from:d,to:a,params:t,loading:h,options:c}=f(l=>l.withdrawals),u=l=>{e(H(l))},b=()=>{e(x())};return s(m.exports.Fragment,{children:s(v,{className:"app-user-list",children:s(q,{noHeader:!0,subHeader:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:F,className:"react-dataTable",paginationComponent:()=>W(d,a,r,t==null?void 0:t.page,t==null?void 0:t.rowsPerPage,u),data:n,progressPending:h,highlightOnHover:!0,persistTableHead:!0,subHeaderComponent:s(M,{toggleSidebar:b,setParams:u,rowsPerPage:t==null?void 0:t.rowsPerPage,q:t==null?void 0:t.q,searchPlaceHolder:"Search by Title/User Name",customComponent:C(E,{children:[s(g,{sm:"4"}),s(g,{sm:"4",children:s(S,{className:"react-select",classNamePrefix:"select",options:c==null?void 0:c.user,isClearable:!0,value:(o=c==null?void 0:c.user)==null?void 0:o.find(l=>(l==null?void 0:l.value)==(t==null?void 0:t.user)),onChange:l=>u({user:l==null?void 0:l.value,page:1}),placeholder:"Select User"})}),s(g,{sm:"4",children:s(S,{className:"react-select",classNamePrefix:"select",options:c==null?void 0:c.status,isClearable:!0,value:(i=c==null?void 0:c.status)==null?void 0:i.find(l=>(l==null?void 0:l.value)==(t==null?void 0:t.status)),onChange:l=>u({status:l==null?void 0:l.value,page:1}),placeholder:"Select Status"})})]})})})})})},I=()=>{const e=p(),{params:n}=f(r=>r.withdrawals);return m.exports.useEffect(()=>{e(A())},[n]),m.exports.useEffect(()=>{e(U())},[]),C(m.exports.Fragment,{children:[s(v,{className:"app-user-list",children:s(T,{})}),s(z,{})]})};export{I as default};

import{a as g,j as s,r as u,a4 as P,a5 as S,a6 as f,a7 as v,f as C,P as H,X as N,Y as b,a8 as q,a9 as M,aa as Y}from"./index.93363c98.js";import{a as x}from"./App.d09279fe.js";import{Q as _,C as U,a as D,S as y}from"./CustomHeader.c892035b.js";import{C as E}from"./CustomSidebar.8eb13e9c.js";import{h as F}from"./moment.4d75c86c.js";const W=()=>{const e=x(),{loading:l,sidebarOpen:i,errors:p,uploadData:n,options:t}=g(c=>c.analytics),m=()=>{e(f())},r=c=>{c.preventDefault()},d=c=>{c.preventDefault(),e(v())},o=[{label:"Date",required:!0,name:"created_at",type:"text",placeHolder:"Date",disabled:!0,show:!0},{label:"Year",required:!1,name:"year",type:"text",placeHolder:"Year",disabled:!0,show:!0},{label:"Month",required:!1,name:"month",type:"text",placeHolder:"Month",disabled:!0,show:!0},{label:"User",required:!1,name:"user_id",type:"select",options:t==null?void 0:t.user,isMulti:!1,isClearable:!1,disabled:!0,placeHolder:"User",show:!0},{label:"Status",required:!0,name:"status",type:"select",options:t==null?void 0:t.status,isMulti:!1,isClearable:!1,placeHolder:"Status",show:!0},{label:"File",required:!1,name:"file_url",type:"file",placeHolder:"File",disabled:!1,show:!0},{label:"Note",required:!0,name:"note",type:"text",placeHolder:"Note",show:!0}],h=[{name:"Save",type:"button",color:"primary",className:"me-1",onClick:r,show:!(n!=null&&n.isEdit)},{name:"Update",type:"button",color:"primary",className:"me-1",onClick:d,show:n==null?void 0:n.isEdit},{name:"Cancel",type:"button",color:"danger",className:"me-1",onClick:m,show:!0}];return s(u.exports.Fragment,{children:s(E,{open:i,toggleSidebar:m,title:n!=null&&n.isEdit?"Edit Label":"Add new Label",errors:p,data:n,onChange:c=>e(P(c)),onReset:()=>e(S({})),loading:l,fields:o,button:h})})},k=[{name:"Date",minWidth:"180px",selector:e=>e==null?void 0:e.created_at,cell:e=>s("span",{children:F(e==null?void 0:e.created_at).format("DD MMM YYYY")})},{name:"Year",minWidth:"180px",selector:e=>e==null?void 0:e.year,cell:e=>s("span",{children:e==null?void 0:e.year})},{name:"Month",minWidth:"180px",selector:e=>e==null?void 0:e.month,cell:e=>s("span",{children:e==null?void 0:e.month})},{name:"Label",minWidth:"180px",selector:e=>{var l;return(l=e==null?void 0:e.label)==null?void 0:l.title},cell:e=>{var l;return s("span",{children:(l=e==null?void 0:e.label)==null?void 0:l.title})}},{name:"User",minWidth:"180px",selector:e=>e==null?void 0:e.user,cell:e=>{var l,i;return C("span",{children:[(l=e==null?void 0:e.user)==null?void 0:l.first_name," ",(i=e==null?void 0:e.user)==null?void 0:i.last_name]})}},{name:"Status",minWidth:"180px",selector:e=>e==null?void 0:e.current_status,cell:e=>s("span",{children:e==null?void 0:e.current_status})}],j=()=>{var h,c;const e=x(),{data:l,total:i,from:p,to:n,params:t,loading:m,options:r}=g(a=>a.analytics),d=a=>{e(q(a))},o=()=>{e(f())};return s(u.exports.Fragment,{children:s(H,{className:"app-user-list",children:s(_,{noHeader:!0,subHeader:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:k,className:"react-dataTable",paginationComponent:()=>U(p,n,i,t==null?void 0:t.page,t==null?void 0:t.rowsPerPage,d),data:l,progressPending:m,highlightOnHover:!0,persistTableHead:!0,subHeaderComponent:s(D,{toggleSidebar:o,setParams:d,rowsPerPage:t==null?void 0:t.rowsPerPage,q:t==null?void 0:t.q,item:null,searchPlaceHolder:"Search by Year/Month",customComponent:C(N,{children:[s(b,{sm:"4"}),s(b,{sm:"4",children:s(y,{className:"react-select",classNamePrefix:"select",options:r==null?void 0:r.user,isClearable:!0,value:(h=r==null?void 0:r.user)==null?void 0:h.find(a=>(a==null?void 0:a.value)==(t==null?void 0:t.user)),onChange:a=>d({user:a==null?void 0:a.value,page:1}),placeholder:"Select User"})}),s(b,{sm:"4",children:s(y,{className:"react-select",classNamePrefix:"select",options:r==null?void 0:r.status,isClearable:!0,value:(c=r==null?void 0:r.status)==null?void 0:c.find(a=>(a==null?void 0:a.value)==(t==null?void 0:t.status)),onChange:a=>d({status:a==null?void 0:a.value,page:1}),placeholder:"Select Status"})})]})}),onRowClicked:a=>{e(f()),e(S({...a,isEdit:!0}))}})})})},Q=()=>{const e=x(),{params:l}=g(i=>i.analytics);return u.exports.useEffect(()=>{e(M())},[l]),u.exports.useEffect(()=>{e(Y())},[]),C(u.exports.Fragment,{children:[s(H,{className:"app-user-list",children:s(j,{})}),s(W,{})]})};export{Q as default};

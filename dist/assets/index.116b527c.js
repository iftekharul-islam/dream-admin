import{a as g,j as s,r as u,bi as P,bj as N,bk as x,bl as y,bm as H,f as C,P as v,X as E,Y as f,bn as A,bo as U,bp as M}from"./index.290cc521.js";import{a as p}from"./App.24db0fc1.js";import{Q as q,C as k,a as W,S}from"./CustomHeader.7abfab49.js";import{C as z}from"./CustomSidebar.d15ed73d.js";import{h as D}from"./moment.4d75c86c.js";import{E as Y}from"./edit.e1824fde.js";const j=()=>{const e=p(),{loading:i,sidebarOpen:c,errors:h,uploadData:l,options:t}=g(n=>n.deposits),m=()=>{e(x())},r=n=>{n.preventDefault(),e(y())},d=n=>{n.preventDefault(),e(H())},b=[{label:"Date",required:!0,name:"date",type:"text",placeHolder:"Date",show:!0},{label:"Amount",required:!1,name:"amount",type:"text",placeHolder:"Amount",show:!0},{label:"Month",required:!1,name:"for",type:"text",placeHolder:"Month",show:!0},{label:"User",required:!0,name:"user_id",type:"select",options:t==null?void 0:t.user,isMulti:!1,isClearable:!1,placeHolder:"Select User",disabled:l==null?void 0:l.isEdit,show:!0},{label:"Status",required:!1,name:"status",type:"select",options:t==null?void 0:t.status,isMulti:!1,isClearable:!1,placeHolder:"Status",show:l==null?void 0:l.isEdit}],o=[{name:"Save",type:"button",color:"primary",className:"me-1",onClick:r,show:!(l!=null&&l.isEdit)},{name:"Update",type:"button",color:"primary",className:"me-1",onClick:d,show:l==null?void 0:l.isEdit},{name:"Cancel",type:"button",color:"danger",className:"me-1",onClick:m,show:!0}];return s(u.exports.Fragment,{children:s(z,{open:c,toggleSidebar:m,title:l!=null&&l.isEdit?"Edit Artist":"Add new Artist",errors:h,data:l,onChange:n=>e(P(n)),onReset:()=>e(N({})),loading:i,fields:b,button:o})})},F=e=>{const i=p();return s("div",{className:"actions cursor-pointer",children:s("div",{onClick:()=>{i(x()),i(N({...e,isEdit:!0}))},children:s(Y,{size:20})})})},T=[{name:"Date",minWidth:"250px",selector:e=>e.date,cell:e=>s("span",{className:"text-capitalize",children:D(e==null?void 0:e.date).format("DD-MMM-YYYY")})},{name:"Amount",minWidth:"180px",selector:e=>e==null?void 0:e.amount,cell:e=>s("span",{className:"text-capitalize",children:e==null?void 0:e.amount})},{name:"Month",minWidth:"180px",selector:e=>e==null?void 0:e.for,cell:e=>s("span",{className:"text-capitalize",children:e==null?void 0:e.for})},{name:"User",minWidth:"120px",selector:e=>e==null?void 0:e.user,cell:e=>{var i,c;return C("span",{children:[(i=e==null?void 0:e.user)==null?void 0:i.first_name," ",(c=e==null?void 0:e.user)==null?void 0:c.last_name]})}},{name:"Status",minWidth:"120px",selector:e=>e.current_status,cell:e=>s("span",{className:"text-capitalize",children:e.status})},{name:"Action",minWidth:"120px",selector:e=>e==null?void 0:e.id,cell:e=>F(e)}],_=()=>{var o,n;const e=p(),{data:i,total:c,from:h,to:l,params:t,loading:m,options:r}=g(a=>a.deposits),d=a=>{e(A(a))},b=()=>{e(x())};return s(u.exports.Fragment,{children:s(v,{className:"app-user-list",children:s(q,{noHeader:!0,subHeader:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:T,className:"react-dataTable",paginationComponent:()=>k(h,l,c,t==null?void 0:t.page,t==null?void 0:t.rowsPerPage,d),data:i,progressPending:m,highlightOnHover:!0,persistTableHead:!0,subHeaderComponent:s(W,{toggleSidebar:b,setParams:d,rowsPerPage:t==null?void 0:t.rowsPerPage,q:t==null?void 0:t.q,item:"Deposit",searchPlaceHolder:"Search by Title/User Name",customComponent:C(E,{children:[s(f,{sm:"4"}),s(f,{sm:"4",children:s(S,{className:"react-select",classNamePrefix:"select",options:r==null?void 0:r.user,isClearable:!0,value:(o=r==null?void 0:r.user)==null?void 0:o.find(a=>(a==null?void 0:a.value)==(t==null?void 0:t.user)),onChange:a=>d({user:a==null?void 0:a.value,page:1}),placeholder:"Select User"})}),s(f,{sm:"4",children:s(S,{className:"react-select",classNamePrefix:"select",options:r==null?void 0:r.status,isClearable:!0,value:(n=r==null?void 0:r.status)==null?void 0:n.find(a=>(a==null?void 0:a.value)==(t==null?void 0:t.status)),onChange:a=>d({status:a==null?void 0:a.value,page:1}),placeholder:"Select Status"})})]})})})})})},I=()=>{const e=p(),{params:i}=g(c=>c.deposits);return u.exports.useEffect(()=>{e(U())},[i]),u.exports.useEffect(()=>{e(M())},[]),C(u.exports.Fragment,{children:[s(v,{className:"app-user-list",children:s(_,{})}),s(j,{})]})};export{I as default};
